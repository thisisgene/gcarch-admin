$gridWidth: 720px
$gridWidthDynamic: calc(70vw - 240px)
$itemBaseHeight: calc((70vw - 240px) / 6 / 1.5)


@keyframes glowing
  0%
    background-color: rgba(#ddd, .1)
  50%
    background-color: rgba(#ddd, 1)
  100%
    background-color: rgba(#ddd, .1)

.grid
  width: $gridWidthDynamic
  // max-width: 1200px
  margin: 0 0 1rem
  // padding: 2px
  display: -ms-grid
  display: grid

  -ms-grid-columns: 1fr 1fr 1fr 1fr 1fr 1fr
  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
  -ms-grid-rows: 1fr[50]
  grid-auto-rows: $itemBaseHeight
  grid-gap: calc(1vw/2.2)
  // @media(min-width: 2040px)
  //   width: 1500px
  //   grid-auto-rows: calc(1500px / 6 / 1.5)
  

  @media(max-width: 1080px)
    width: calc(100vw - 340px)
    grid-auto-rows: calc(calc(100vw - 340px) / 6 / 1.5)
    margin: 0 auto

  @media(min-width: 1900px)
    width: calc(60vw)
    -ms-grid-auto-rows: calc(calc(60vw) / 6 / 1.5)
    grid-auto-rows: calc(calc(60vw) / 6 / 1.5)


  .grid-item
    position: relative
    // background: #eee
    box-sizing: border-box
    width: 100%
    height: 100%
    overflow: hidden
    display: flex
    justify-content: center
    align-items: center
    // animation: glowing 1000ms ease-in-out infinite
    
    a
      width: 100%
      height: 100%

    .img-tag-container
      opacity: 0
      position: absolute
      top: 0
      left: 0
      width: 100%
      height: 100%
      background: rgba(white, .7)
      transition: opacity 200ms ease-in-out
      .img-tag
        background: #fff
        position: absolute
        bottom: 0
        left: 0
        width: 100%
        padding: .3rem 1rem
        color: #111
        font-size: .7rem
        z-index: 2

        .img-name
          text-transform: uppercase
          font-weight: bold

    &:hover
      .img-tag-container
        opacity: 1
        transition: opacity 400ms ease-in-out
      .img
        transform: scale(1.02)
    .img-container
      width: 100%
      height: 100%
      display: flex
      background-size: cover
      opacity: 0
      transition: opacity 400ms ease-in-out
      

      &.thumb-loaded
        opacity: 1

      .fake-thumb 
        opacity: 0
        width: 0
        height: 0

    .img
      width: 0
      height: 0
      object-fit: cover
      object-position: center
      // max-height: 100%
      max-width: 100%
      opacity: 0
      transition: all 400ms ease-in-out
      
    .loaded
      width: auto
      height: auto
      opacity: 1
    .low-res-img
      object-fit: cover
      object-position: center
      // max-height: 100%
      max-width: 100%
      transition: opacity 1000ms ease-in-out
      
    @media(min-width: 769px)
      
      &--1
        grid-column: 1 / 5
        -ms-grid-column: 1
        -ms-grid-column-span: 5
        grid-row: 1 / 5
        -ms-grid-row: 1
        -ms-grid-row-span: 5
      &--2
        grid-column-start: 5
        -ms-grid-column-start: 5
        grid-column-end: column6-end
        -ms-grid-column-end: 7
        grid-row: 1 / 3
        -ms-grid-row: 1 / 3
      &--3
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 5 / 7
        -ms-grid-row: 5 / 7
      &--4
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 5 / 7
        -ms-grid-row: 5 / 7
      &--5
        grid-column-start: 5
        -ms-grid-column-start: 5
        grid-column-end: column6-end
        -ms-grid-column-end: 7
        grid-row: 3 / 7
        -ms-grid-row: 3 / 7
      &--6
        grid-column: 1 / 4
        -ms-grid-column: 1 / 4
        grid-row: 7 / 10
        -ms-grid-row: 7 / 10
      &--7
        
        grid-column-start: 4
        -ms-grid-column-start: 4
        grid-column-end: column6-end
        -ms-grid-column-end: 7
        grid-row: 7 / 10
        -ms-grid-row: 7 / 10
      &--8
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 10 / 12
        -ms-grid-row: 10 / 12
      &--9
        grid-column-start: 3
        -ms-grid-column-start: 3
        grid-column-end: column6-end
        -ms-grid-column-end: 7
        grid-row: 10 / 14
        -ms-grid-row: 10 / 14
      &--10
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 12 / 16
        -ms-grid-row: 12 / 16
      &--11
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 14 / 16
        -ms-grid-row: 14 / 16
      &--12
        grid-column-start: 5
        -ms-grid-column-start: 5
        grid-column-end: column6-end
        -ms-grid-column-end: 7
        grid-row: 14 / 18
        -ms-grid-row: 14 / 18
      &--13
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 16 / 18
        -ms-grid-row: 16 / 18
      &--14
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 16 / 18
        -ms-grid-row: 16 / 18
      &--15
        grid-column: 1 / 5
        -ms-grid-column: 1
        -ms-grid-column-span: 5
        grid-row: 18 / 22
        -ms-grid-row: 18
        -ms-grid-row-span: 22
      &--16
        grid-column-start: 5
        -ms-grid-column-start: 5
        grid-column-end: column6-end
        -ms-grid-column-end: 7
        grid-row: 18 / 20
        -ms-grid-row: 18 / 20
      &--17
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 22 / 24
        -ms-grid-row: 22 / 24
      &--18
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 22 / 24
        -ms-grid-row: 22 / 24
      &--19
        grid-column-start: 5
        -ms-grid-column-start: 5
        grid-column-end: column6-end
        -ms-grid-column-end: 7
        grid-row: 20 / 24
        -ms-grid-row: 20 / 24
      &--20
        grid-column: 1 / 4
        -ms-grid-column: 1 / 4
        grid-row: 24 / 27
        -ms-grid-row: 24 / 27
      &--21
        
        grid-column-start: 4
        -ms-grid-column-start: 4
        grid-column-end: column6-end
        -ms-grid-column-end: 7
        grid-row: 24 / 27
        -ms-grid-row: 24 / 27
      &--22
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 27 / 29
        -ms-grid-row: 27 / 29
      &--23
        grid-column-start: 3
        -ms-grid-column-start: 3
        grid-column-end: column6-end
        -ms-grid-column-end: 7
        grid-row: 27 / 31
        -ms-grid-row: 27 / 31
      &--24
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 29 / 33
        -ms-grid-row: 12 / 16
      &--25
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 31 / 33
        -ms-grid-row: 14 / 16
      &--26
        grid-column-start: 5
        -ms-grid-column-start: 5
        grid-column-end: column6-end
        -ms-grid-column-end: 7
        grid-row: 31 / 35
        -ms-grid-row: 14 / 18

      &--27
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 35 / 37
        -ms-grid-row: 18 / 20
      &--28
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 35 / 37
        -ms-grid-row: 18 / 20
      &--29
        grid-column: 5 / 8
        -ms-grid-column: 5 / 8
        grid-row: 35 / 37
        -ms-grid-row: 18 / 20
      &--30
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 28 / 30
        -ms-grid-row: 28 / 30
      &--31
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 28 / 30
        -ms-grid-row: 28 / 30
      &--32
        grid-column: 5 / 8
        -ms-grid-column: 5 / 8
        grid-row: 28 / 30
        -ms-grid-row: 28 / 30
      &--33
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 30 / 32
        -ms-grid-row: 30 / 32
      &--34
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 32 / 34
        -ms-grid-row: 32 / 34
      &--35
        grid-column: 5 / 8
        -ms-grid-column: 5 / 8
        grid-row: 32 / 34
        -ms-grid-row: 32 / 34
      &--36
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 34 / 36
        -ms-grid-row: 34 / 36
      &--37
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 34 / 36
        -ms-grid-row: 34 / 36
      &--38
        grid-column: 5 / 8
        -ms-grid-column: 5 / 8
        grid-row: 34 / 36
        -ms-grid-row: 34 / 36
      &--39
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 36 / 38
        -ms-grid-row: 36 / 38
      &--40
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 36 / 38
        -ms-grid-row: 36 / 38
      &--41
        grid-column: 5 / 8
        -ms-grid-column: 5 / 8
        grid-row: 36 / 38
        -ms-grid-row: 36 / 38
      &--42
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 38 / 40
        -ms-grid-row: 38 / 40
      &--43
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 38 / 40
        -ms-grid-row: 38 / 40
      &--44
        grid-column: 5 / 8
        -ms-grid-column: 5 / 8
        grid-row: 38 / 40
        -ms-grid-row: 38 / 40
      &--45
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 40 / 42
        -ms-grid-row: 40 / 42
      &--46
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 40 / 42
        -ms-grid-row: 40 / 42
      &--47
        grid-column: 5 / 8
        -ms-grid-column: 5 / 8
        grid-row: 40 / 42
        -ms-grid-row: 40 / 42
      &--48
        grid-column: 1 / 3
        -ms-grid-column: 1 / 3
        grid-row: 42 / 44
        -ms-grid-row: 42 / 44
      &--49
        grid-column: 3 / 5
        -ms-grid-column: 3 / 5
        grid-row: 42 / 44
        -ms-grid-row: 42 / 44
      &--50
        grid-column: 5 / 8
        -ms-grid-column: 5 / 8
        grid-row: 42 / 44
        -ms-grid-row: 42 / 44


  @media(max-width: 768px)
    margin-top: 2rem
    // grid-auto-rows: calc(100vw / 6 / 1.5)
    grid-auto-rows: auto
    padding: 0
    display: flex
    flex-direction: column
    width: 100vw
    grid-template-columns: 1fr 1fr
    
    .grid-item
      margin-bottom: 1rem
      width: 100vw
      // max-height: 300px
      display: block
      // grid-column: 1 / 2
      .img-tag-container
        opacity: 1 !important
        background: none !important
        .img-tag
          background-color: transparent !important
          background-image: linear-gradient(to right, rgba(#000, .3) , transparent) !important
          color: #fff !important
      .img-container
        width: 100%
        background-size: cover
        display: block
      .img
        width: 0
        height: 0
        object-fit: cover
        object-position: left
        // max-height: 100%
        width: 100%
        opacity: 0
        transition: opacity 1000ms ease-in-out

      .loaded
        width: 100vw
        height: 100%
        opacity: 1
 
  &.ie11
    display: flex
    justify-content: center
    align-items: center
    flex-wrap: wrap
    .grid-item
      width: calc((100% / 3) - 20px)
      padding-top: calc((100% / 3) - 20px)
      margin: calc(1vw/4.4)
      position: relative
      display: flex
      align-items: center
      @media(max-width: 968px)
        width: calc((200% / 2) - 20px)
        padding-top: calc((200% / 3) - 20px)
      .img-container
        position: absolute
        top: 0
        left: 0
        bottom: 0
        right: 0 
        background-size: cover
        background-repeat: no-repeat
        background-position: 50% 50%
        &.thumb-loaded
          opacity: 1
          .img
            width: 100% !important
            height: 100% !important
            
